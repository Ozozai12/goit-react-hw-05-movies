{"version":3,"file":"static/js/653.fdec20ed.chunk.js","mappings":"8PACA,EAA+B,6BAA/B,EAAqE,uBAArE,EAAyG,2B,SCKzGA,EAAAA,GAAAA,SAAAA,QAAyB,gCAEzB,IAyEA,EAzEe,WAAO,IAAD,EACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,UAAS,IAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,EAAW,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,GAoCjD,OAtBAC,EAAAA,EAAAA,YAAU,WACR,GAAKX,EAAL,CAIA,IAAMY,EAAY,mCAAG,6GAEMhB,EAAAA,GAAAA,IAAA,uEAC2CI,EAD3C,4BAFN,OAEXa,EAFW,OAKjBV,EAAaU,EAASC,KAAKC,SALV,uGAAH,qDAQlBH,IAEAN,EAD6B,KAAVN,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAX9C,CAaF,GAAE,CAACM,EAAiBN,EAAOK,KAE5BM,EAAAA,EAAAA,YAAU,WACRV,EAASQ,EACV,GAAE,CAACA,KAGF,iCACE,kBAAMO,SAhCW,SAAAC,GACnBA,EAAMC,iBAENjB,EAASH,GAETmB,EAAME,OAAOC,OACd,EA0BG,WACE,4BACE,kBAAOC,KAAK,OAAOC,QAtCD,SAAAL,GACxBlB,EAASkB,EAAME,OAAOI,MACvB,OAsCK,mBAAQF,KAAK,SAASG,UAAWC,EAAjC,wBAKF,wBACGvB,EAAUwB,KAAI,SAAAC,GACb,OACE,eAAmBH,UAAWC,EAA9B,UACE,SAAC,KAAD,CACEG,GAAE,UAAKD,EAAME,IACbC,MAAO,CAAEC,KAAMxB,GACfiB,UAAWC,EAHb,SAKGE,EAAMK,kBANFL,EAAME,GAUlB,QAIR,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchButton\":\"Movies_searchButton__VlmGO\",\"movies\":\"Movies_movies__tPRCM\",\"moviesItem\":\"Movies_moviesItem__BPaMl\"};","import axios from 'axios';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst Movies = () => {\n  const [input, setInput] = useState('');\n  const [query, setQuery] = useState('');\n  const [movieList, setMovieList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  const handleInputChange = event => {\n    setInput(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    setQuery(input);\n\n    event.target.reset();\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const searchMovies = async () => {\n      try {\n        const response = await axios.get(\n          `search/movie?api_key=9e294ba72e4332867e55d24684fee56c&query=\"${query}\"&language=en-US&page=1`\n        );\n        setMovieList(response.data.results);\n      } catch (error) {}\n    };\n    searchMovies();\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  }, [setSearchParams, query, searchParams]);\n\n  useEffect(() => {\n    setQuery(searchQuery);\n  }, [searchQuery]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <input type=\"text\" onInput={handleInputChange} />\n        </label>\n        <button type=\"submit\" className={css.searchButton}>\n          Search\n        </button>\n      </form>\n\n      <ul>\n        {movieList.map(movie => {\n          return (\n            <li key={movie.id} className={css.movies}>\n              <Link\n                to={`${movie.id}`}\n                state={{ from: location }}\n                className={css.moviesItem}\n              >\n                {movie.original_title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["axios","useState","input","setInput","query","setQuery","movieList","setMovieList","useSearchParams","searchParams","setSearchParams","location","useLocation","searchQuery","get","useEffect","searchMovies","response","data","results","onSubmit","event","preventDefault","target","reset","type","onInput","value","className","css","map","movie","to","id","state","from","original_title"],"sourceRoot":""}